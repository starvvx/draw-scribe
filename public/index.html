<html>
<head>
    <meta charset="UTF-8">
    <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
    <script language="javascript" type="text/javascript" src="libraries/p5.dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
    <script language="javascript" type="text/javascript" src="sketch.js"></script>
    <script defer src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script defer src="script.js"></script>
    <link rel="stylesheet" href="style.css">

    <title>Draw-scribe</title>
</head>

<body>
    <input type="checkbox" id="sidebartoggler" name="" value="">
    <div class="page-wrap">
      <div class="page-content" id="canvas">
          <label for="sidebartoggler"><img src="menu.png" width="50" height="50"></label>
    
      <div class="container" id="chatbox">
          <form id="send-container" style="position: fixed;">
            <table>
                <tr>
                    <input type="text" id="message-input" style="width: 60%;">
                    <button type="submit" id="send-button" style="width: 37%;border-radius: 10px;">
                        Send
                    </button>
                </tr>
            </table>
          </form>
          <div id="message-container" style="margin-bottom: 29%;"></div>
      </div>
    
      </div>
      <div class="sidebar" id="options">
          <h2>draw-scribe</h2>
          <hr>
          <h4>color</h4>
          <div id="brush-color"><br></div>
          <div class="sidebarel" id="colors">
              <input onInput="changeSlider()" id="r" type="range" min="0" max="255" style="width: 100%;">
              <input onInput="changeSlider()" id="g" type="range" min="0" max="255" style="width: 100%;">
              <input onInput="changeSlider()" id="b" type="range" min="0" max="255" style="width: 100%;">
          </div>
          
          <h4>Thickness</h4>
          <div class="siderbarel">
              <input onInput="changeSlider()" id="thickness" type="range" min="10" max="50" value="25" style="width: 100%;">
          </div>
          <br>
          <button onclick="toggleEraser()" type="button" class="eraser">Eraser</button>
          <br>
          <br>
          <div class="siderbarel"> 
            <input onInput="changeSlider()" id="eraserThickness" type="range" min="10" max="50" value="25" style="width: 100%;">
          </div>
          <hr>
          <button onclick="saveCanvas()">Download drawing</button>
          <hr>

      </div>
    </div>

<script>
    function saveCanvas() {
        var image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
        window.location.href = image; // it will save locally
    }
</script>
    
</body>
</html>
